<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.zlzc.modules.order.dao.OrderDetailsVoDao">
	<!-- 可根据自己的需求，是否要使用 -->
	<resultMap id="OrdeAndLogisticsVoRst" type="com.zlzc.modules.order.entity.vo.OrderDetailsVo">
		<association property="orderEntity" javaType="OrderEntity">
			<id property="orderId" column="order_id"/>
			<result property="commobityId" column="commobity_id" />
			<result property="shopId" column="shop_id" />
			<result property="userId" column="user_id" />
			<result property="merchntId" column="merchnt_id" />
			<result property="orderNumber" column="order_number" />
			<result property="orderAmount" column="order_amount" />
			<result property="orderPayable" column="order_payable" />
			<result property="orderCommodityTotalAmount" column="order_commodity_total_amount" />
			<result property="orderTotalAmount" column="order_total_amount" />
			<result property="orderNumberPieces" column="order_number_pieces" />
			<result property="orderPaymentStatus" column="order_payment_status" />
			<result property="orderPaymentMethod" column="order_payment_method" />
			<result property="orderSource" column="order_source" />
			<result property="orderStatus" column="order_status" />
			<result property="orderOrderType" column="order_order_type" />
			<result property="orderRemark" column="order_remark" />
			<result property="orderSubmissionTime" column="order_submission_time" />
			<result property="orderEndTime" column="order_end_time" />
			<result property="orderCompleteTime" column="order_complete_time" />
		</association>
		<association property="logisticsEntity" javaType="LogisticsEntity">
			<id property="logisticsId" column="logistics_id" />
			<result property="orderNumber" column="order_number_l" />
			<result property="logisticsName" column="logistics_name" />
			<result property="logisticsDelivery" column="logistics_delivery" />
			<result property="logisticsSender" column="logistics_sender" />
			<result property="logisticsSenderPhone" column="logistics_sender_phone" />
			<result property="logisticsSenderAccount" column="logistics_sender_account" />
			<result property="logisticsSenderAddress" column="logistics_sender_address" />
			<result property="logisticsSenderPostcode" column="logistics_sender_postcode" />
			<result property="logisticsSenderCompanyAddress" column="logistics_sender_company_address" />
			<result property="logisticsSingleNumber" column="logistics_single_number" />
			<result property="logisticsSerialNumber" column="logistics_serial_number" />
			<result property="logisticsRecipient" column="logistics_recipient" />
			<result property="logisticsRecipientPhone" column="logistics_recipient_phone" />
			<result property="logisticsRecipientAccount" column="logistics_recipient_account" />
			<result property="logisticsRecipientAddress" column="logistics_recipient_address" />
			<result property="logisticsRecipientPostcode" column="logistics_recipient_postcode" />
			<result property="logisticsRecipientCompanyAddress" column="logistics_recipient_company_address" />
			<result property="logisticsRecipientIdNumber" column="logistics_recipient_id_number" />
			<result property="logisticsNote" column="logistics_note" />
			<result property="logisticsDeliveryTime" column="logistics_delivery_time" />
			<result property="logisticsTimeReceipt" column="logistics_time_receipt" />
		</association>
		<association property="commodityEntity" javaType="CommodityEntity">
			<result property="commodityId" column="commodity_id"/>
			<result property="merchantId" column="merchant_id"/>
			<result property="shopId" column="shop_id"/>
			<result property="brandId" column="brand_id"/>
			<result property="commodityCategoryId" column="commodity_category_id"/>
			<result property="commodityAttrId" column="commodity_attr_id"/>
			<result property="commodityRepertoryId" column="commodity_repertory_id"/>
			<result property="comodityAlbumId" column="comodity_album_id"/>
			<result property="commodityNo" column="commodity_no"/>
			<result property="commodityName" column="commodity_name"/>
			<result property="commoditySubName" column="commodity_sub_name"/>
			<result property="commodityOrder" column="commodity_order"/>
			<result property="commodityStatus" column="commodity_status"/>
			<result property="countryCode" column="country_code"/>
			<result property="commodityRemark" column="commodity_remark"/>
			<result property="createTime" column="create_time"/>
			<result property="updateTime" column="update_time"/>
			<result property="operator" column="operator"/>
		</association>
		<association property="merchantEntity" javaType="MerchantEntity">
			<id property="merchntId" column="merchnt_id" />
			<result property="merchntAccount" column="merchnt_account" />
			<result property="merchntName" column="merchnt_name" />
			<result property="merchntNick" column="merchnt_nick" />
			<result property="merchntCompanyName" column="merchnt_company_name" />
			<result property="merchntRegistAddr" column="merchnt_regist_addr" />
			<result property="merchntBusiLicenseUrl" column="merchnt_busi_license_url" />
			<result property="merchntSupplyLevel" column="merchnt_supply_level" />
			<result property="merchntLinkman" column="merchnt_linkman" />
			<result property="merchntTel" column="merchnt_tel" />
			<result property="merchntAddr" column="merchnt_addr" />
			<result property="merchntRegion" column="merchnt_region" />
			<result property="merchntMode" column="merchnt_mode" />
			<result property="merchntScope" column="merchnt_scope" />
			<result property="merchntRegistDate" column="merchnt_regist_date" />
			<result property="merchntApprovalStatus" column="merchnt_approval_status" />
			<result property="merchntAuditors" column="merchnt_auditors" />
			<result property="merchntAuditResults" column="merchnt_audit_results" />
			<result property="merchntFeedback" column="merchnt_feedback" />
			<result property="merchntDate" column="merchnt_date" />
			<result property="merchntDetails" column="merchnt_details" />
			<result property="createTime" column="create_time" />
			<result property="updateTime" column="update_time" />
			<result property="operator" column="operator" />
		</association>
		<association property="shopEntity" javaType="ShopEntity">

		</association>


	</resultMap>


	<sql id="select_cols">
		o.*,
		l.*,
		l.order_number order_number_l
	</sql>


	<select id="queryPageByCondition" resultMap="OrdeAndLogisticsVoRst">
		select
			<include refid="select_cols" />
		from
		zezl_commodity_order o
		join
		zezl_commodity_logistics l
		on
		o.order_number=l.order_number
		${ew.customSqlSegment}
	</select>

	<select id="queryApprovalDetails"
			resultMap="OrdeAndLogisticsVoRst">
		select
		*
		from
		zezl_commodity_order o
		join
		zezl_commodity_logistics l
		on
		o.order_number=l.order_number
		${ew.customSqlSegment}
	</select>


</mapper>